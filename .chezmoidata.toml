# Chezmoi data for package management
[packages]
  [packages.uv_tools]
    # Python tools managed by uv tool
    tools = [
      "ansible",
      "argcomplete",
      "asciinema",
      "cookiecutter",
      "devpi-server",
      "esptool",
      "glances",
      "huggingface-hub",
      "jinjanator",
      "mlx-lm",
      "pdm",
      "pre-commit",
      "ranger-fm",
      "ruff",
      "telegram-send",
      "trafilatura",
      "vectorcode[mcp,cli]",
      "yamllint"
    ]

    # Git-based tools with special installation requirements
    # NOTE: pal-mcp-server is run via uvx at runtime, no global installation needed
    git_tools = []

  [packages.completion_tools]
    # Tools that provide shell completions
    [packages.completion_tools.zsh_completions]
      uv = "uv generate-shell-completion zsh"
      rustup = "rustup completions zsh"
      pip = "pip completion --zsh"
      podman = "podman completion -f zsh"
      rpk = "rpk generate shell-completion zsh"
      atuin = "atuin gen-completions --shell zsh"
      gh = "gh completion -s zsh"
      rg = "rg --generate=complete-zsh"
      fd = "fd --gen-completions"
      aider = "aider --shell-completions zsh"
      cargo = "rustup completions zsh cargo"
      oc = "oc completion zsh"
      docker = "docker completion zsh"
      kubectl = "kubectl completion zsh"
      pdm = "pdm completion zsh"
      npm = "npm completion zsh"
      luarocks = "luarocks completion zsh"
      minikube = "minikube completion zsh"
      k3d = "k3d completion zsh"
      argocd = "argocd completion zsh"
      helm = "helm completion zsh"
      mise = "mise completion zsh"
      "arduino-cli" = "arduino-cli completion zsh"
      orbctl = "orbctl completion zsh"
      orb = "orb completion zsh"
      skaffold = "skaffold completion zsh"
      kitty = "kitty +complete setup zsh"
      vectorcode = "vectorcode -s zsh"
      bun = "bun completions"
      just = "just --completions zsh"

[packages.brew]
  # Taps for both macOS and Linux
  common_taps = [
    "knqyf263/pet",
    "norwoodj/tap"
  ]

  # macOS-specific taps
  darwin_taps = [
    "felixkratz/formulae",
    "hudochenkov/sshpass",
    "koekeishiya/formulae"
  ]

  # Linux-specific taps
  linux_taps = [
    "redpanda-data/tap"
  ]

  # Common formulae for both macOS and Linux
  # Note: Tools managed by mise have been removed to avoid duplication
  # See docs/homebrew-mise-migration-analysis.md for details
  common = [
    "arduino-cli",
    "argocd-vault-plugin",
    "ast-grep",
    "autoconf",
    "binwalk",
    "chezmoi",
    "cmake",
    "coreutils",
    "curl",
    "dbmate",
    "dfu-util",
    "fish",
    "fswatch",
    "fzf",
    "git",
    "git-filter-repo",
    "git-lfs",
    "gnutls",
    "gobuster",
    "groff",
    "help2man",
    "httpie",
    "imagemagick",
    "iperf3",
    "jd",
    "luarocks",
    "maven",
    "mermaid-cli",
    "mise",
    "mosquitto",
    "netcat",
    "ninja",
    "nmap",
    "nushell",
    "ollama",
    "pandoc",
    "parallel",
    "platformio",
    "qemu",
    "ranger",
    "so",
    "starship",
    "tcl-tk",
    "tflint",
    "tldr",
    "trufflehog",
    "uv",
    "wireshark",
    "zlib",
    "zsh-completions",
    "knqyf263/pet/pet",
    "norwoodj/tap/helm-docs"
  ]

  # macOS-specific formulae
  darwin = [
    "lldpd",
    "lsusb",
    "mas",
    "openssl@3",
    "libgit2",
    "gettext",
    "unbound",
    "postgresql@14",
    "postgresql@16",
    "felixkratz/formulae/sketchybar",
    "hudochenkov/sshpass/sshpass",
    "koekeishiya/formulae/skhd"
  ]

  # Linux-specific formulae (includes redpanda which doesn't work on macOS)
  linux = [
    "numpy",
    "redpanda-data/tap/redpanda"
  ]

  # Services that need restart_service flag
  services = [
    { name = "lldpd", restart = "changed" }
  ]

  # Casks (macOS only)
  casks = [
    "android-platform-tools",
    "arduino-ide",
    "bluesnooze",
    "font-hack-nerd-font",
    "gcloud-cli",
    "ghostty",
    "keycastr",
    "keyman",
    "kicad",
    "kitty",
    "krita",
    "mac-mouse-fix",
    "mitmproxy",
    "obsidian",
    "openlens",
    "orbstack",
    "shortcat",
    "spotify",
    "telegram-desktop",
    "visual-studio-code",
    "vlc",
    "xquartz"
  ]

  # Mac App Store apps (macOS only)
  mas = [
    { name = "GarageBand", id = 682658836 },
    { name = "iMovie", id = 408981434 },
    { name = "Keynote", id = 409183694 },
    { name = "Numbers", id = 409203825 },
    { name = "Pages", id = 409201541 },
    { name = "WireGuard", id = 1451685025 },
    { name = "Xcode", id = 497799835 }
  ]

  # VS Code extensions (cross-platform)
  vscode = [
    "asvetliakov.vscode-neovim",
    "github.copilot",
    "github.copilot-chat",
    "google.geminicodeassist",
    "googlecloudtools.cloudcode",
    "hashicorp.terraform",
    "ms-kubernetes-tools.vscode-kubernetes-tools",
    "ms-python.debugpy",
    "ms-python.python",
    "ms-python.vscode-pylance",
    "ms-vscode-remote.remote-containers",
    "ms-vscode.cmake-tools",
    "ms-vscode.cpptools",
    "ms-vscode.cpptools-extension-pack",
    "ms-vscode.cpptools-themes",
    "platformio.platformio-ide",
    "redhat.vscode-yaml",
    "twxs.cmake"
  ]

[claude_hooks]
  # Terminal integration hooks
  enable_kitty_tabs = false          # Update terminal tab titles with status
  enable_sketchybar = false          # Update macOS status bar

  # Logging and notification hooks
  enable_obsidian_logging = false    # Log activities to Obsidian vault
  enable_voice_notifications = false # Voice notifications for task completion

  # Development tool hooks
  enable_pre_commit_formatting = false # Run formatters on staged files

  # GitHub integration hooks
  enable_gh_context = false          # Provide GitHub context for PRs

[mcp_servers]
  # MCP Server Favorites Registry
  #
  # This section maintains a curated list of your favorite MCP servers.
  # By default, all servers are DISABLED to avoid bloating context in every repo.
  #
  # To install MCP servers for a specific project, use:
  #   - /configure:mcp command for interactive selection
  #   - MCP Management skill for automated installation based on project needs
  #
  # Note: The update-ai-tools.sh script only installs servers with enabled=true.
  # For project-specific needs, manually create .mcp.json in your project root.

  [mcp_servers.graphiti-memory]
    enabled = false
    scope = "project"
    transport = "sse"
    command = "http://localhost:8000/sse"
    args = []
    description = "Graph-based memory and knowledge management"
    category = "memory"

  [mcp_servers.vectorcode]
    enabled = false
    scope = "project"
    command = "vectorcode-mcp-server"
    args = []
    description = "Semantic code search using embeddings"
    category = "search"

  [mcp_servers.pal]
    enabled = false
    scope = "project"
    command = "uvx"
    args = ["--from", "git+https://github.com/BeehiveInnovations/pal-mcp-server.git", "pal-mcp-server"]
    description = "PAL (Provider Abstraction Layer) - Multi-provider LLM integration"
    category = "productivity"

  [mcp_servers.playwright]
    enabled = false
    scope = "project"
    command = "bunx"
    args = ["-y", "@playwright/mcp@latest"]
    description = "Browser automation and testing"
    category = "testing"

  [mcp_servers.context7]
    enabled = false
    scope = "project"
    command = "bunx"
    args = ["-y", "@upstash/context7-mcp"]
    description = "Upstash context management"
    category = "memory"

  [mcp_servers.github]
    enabled = false
    scope = "project"
    command = "go"
    args = ["run", "github.com/github/github-mcp-server/cmd/github-mcp-server@latest", "stdio"]
    description = "GitHub API integration (issues, PRs, repos)"
    category = "vcs"
    env_vars = ["GITHUB_TOKEN"]

  [mcp_servers.podio-mcp]
    enabled = false
    scope = "project"
    command = "bunx"
    args = ["https://github.com/ForumViriumHelsinki/podio-mcp"]
    description = "Podio project management integration"
    category = "productivity"
    env_vars = ["PODIO_CLIENT_ID", "PODIO_CLIENT_SECRET", "PODIO_APP_ID", "PODIO_APP_TOKEN"]

  [mcp_servers.sentry]
    enabled = false
    scope = "project"
    transport = "http"
    command = "https://mcp.sentry.dev/mcp"
    args = []
    description = "Sentry error tracking and monitoring"
    category = "monitoring"

  [mcp_servers.argocd-mcp]
    enabled = false
    scope = "project"
    command = "bunx"
    args = ["-y", "argocd-mcp@latest", "stdio"]
    description = "ArgoCD GitOps deployment management"
    category = "infrastructure"
    env_vars = ["ARGOCD_SERVER", "ARGOCD_AUTH_TOKEN"]

  [mcp_servers.serena]
    enabled = false
    scope = "project"
    command = "uvx"
    args = ["--from", "git+https://github.com/oraios/serena", "serena", "start-mcp-server", "--context", "claude-code", "--project", "${PWD##*/}"]
    description = "Serena - AI-powered code understanding and refactoring assistant"
    category = "ai"

  [mcp_servers.sequential-thinking]
    enabled = false
    scope = "project"
    command = "npx"
    args = ["-y", "@modelcontextprotocol/server-sequential-thinking"]
    description = "Enhanced reasoning with sequential thinking"
    category = "ai"

  [mcp_servers.consult7]
    enabled = false
    scope = "project"
    command = "uvx"
    args = ["consult7", "${OPENROUTER_API_KEY}"]
    description = "Consult large context window LLMs via OpenRouter for analyzing extensive codebases"
    category = "ai"
    env_vars = ["OPENROUTER_API_KEY"]

[platform]
  # Platform-specific settings will be populated by templates
  cpu_cores = 0
  cpu_threads = 0
