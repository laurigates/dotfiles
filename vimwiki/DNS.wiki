= DNS =

== Renew DHCP lease ==

{{{
sudo dhclient -r eth0
sudo dhclient eth0
}}}

== Reload all dns services ==

{{{
sudo systemctl restart dnsmasq
sudo resolvconf -u
sudo systemctl restart systemd-resolved
}}}

== systemd-resolved ==

https://wiki.archlinux.org/index.php/Systemd-resolved

Configuration required to work with dnsmasq:
/etc/systemd/resolved.conf:
 DNSStubListener=no

== resolvconf/openresolv ==

/etc/resolvconf.conf:

{{{
# Use the local name server
name_servers="::1 127.0.0.1"

# Write out dnsmasq extended configuration and resolv files
dnsmasq_conf=/etc/dnsmasq-openresolv.conf
dnsmasq_resolv=/etc/dnsmasq-resolv.conf
}}}

== dnsmasq ==

https://wiki.archlinux.org/index.php/Dnsmasq

Required by vagrant-landrush

/etc/dnsmasq.conf:

{{{
# Read configuration generated by openresolv
conf-file=/etc/dnsmasq-openresolv.conf
resolv-file=/etc/dnsmasq-resolv.conf

no-resolv

server=172.26.0.1
server=172.26.20.1
server=172.26.20.2
}}}
