{{- /* chezmoi:template */ -}}
#!/bin/bash

# {{ range .packages.pipx.tools }}{{ . }} {{ end }}
# Generated pipx package installation script

set -euo pipefail

echo "ğŸ Installing Python tools via pipx..."

# Ensure pipx is available
if ! command -v pipx >/dev/null 2>&1; then
    echo "âŒ pipx not found. Please install pipx first."
    exit 1
fi

# Install each package declaratively
{{- range .packages.pipx.tools }}
if ! pipx list --short | grep -q "^{{ . }} "; then
    echo "ğŸ“¦ Installing {{ . }}..."
    pipx install {{ . }}
else
    echo "âœ… {{ . }} already installed"
fi
{{- end }}

# Upgrade all installed packages
echo "â¬†ï¸  Upgrading all pipx packages..."
pipx upgrade-all

echo "âœ… pipx package installation completed!"
