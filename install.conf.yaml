---
- defaults:
    link:
      relink: true

- clean: ['~']

- shell:
  - [ setup/cleanup.sh, Cleaning up existing configuration ]
  - [ mkdir -p ~/.local/share/nvim/plugged, Creating nvim plugin directory ]
  - [ mkdir -p ~/.zsh_history_dir, Creating zsh history directory ]
  - [ mkdir -p ~/.i3, Creating i3 configuration directory ]
  - [ mkdir -p ~/.ssh, Creating ~/.ssh directory ]
  - [ mkdir -p ~/.config, Creating ~/.config directory ]
  - [ git submodule update --init --remote, Installing submodules ]

- link:
    ~/.dotfiles: ''
    ~/.ctags.d: general/ctags.d
    ~/.env: terminal/env
    ~/.local/share/fonts/hack:
        create: true
        path: fonts/hack
    ~/.rbenv: ruby/rbenv
    ~/.rbenv/plugins/ruby-build:
        create: true
        path: ruby/ruby-build
    ~/.config/kitty/kitty.conf:
        create: true
        path: terminal/kitty.conf
    ~/.tmux.conf: tmux/tmux.conf
    ~/.tmux-themepack: tmux/tmux-themepack
    ~/.tmux/plugins:
        create: true
        path: tmux/tmux-plugins
    ~/vimwiki: vimwiki
    ~/.config/nvim/init.vim:
        create: true
        path: vim/init.vim
    ~/.local/share/nvim/site/autoload/plug.vim:
        create: true
        path: vim/vim-plug/plug.vim
    ~/.vimrc: vim/init.vim
    ~/.vim/autoload/plug.vim:
        create: true
        path: vim/vim-plug/plug.vim
    ~/.zshrc: zsh/zshrc
    ~/.oh-my-zsh: zsh/oh-my-zsh
    ~/.ssh/config: ssh/config
    ~/i3blocks-contrib: i3/i3blocks-contrib
    ~/.i3blocks.conf: i3/i3blocks.conf
    ~/.config/dunst/dunstrc:
        create: true
        path: i3/dunstrc
    ~/.xinitrc: X/xinitrc
    ~/.xsessionrc: X/xinitrc
    ~/.Xresources: X/Xresources
    ~/.config/picom.conf: X/picom.conf
    ~/.config/pet: pet
    ~/.config/coc/extensions/package.json: vim/coc-extensions.json

- link:
    ~/.oh-my-zsh/custom/plugins/zsh-autosuggestions: zsh/zsh-autosuggestions
    ~/.oh-my-zsh/custom/plugins/zsh-syntax-highlighting: zsh/zsh-syntax-highlighting
    ~/.oh-my-zsh/custom/aliases.zsh: zsh/aliases.zsh
    ~/.oh-my-zsh/custom/tmuxinator.zsh: zsh/tmuxinator.zsh

- shell:
  - 
    command: setup/i3.sh
    description: Checking i3
    stdout: true
    stderr: true
  - 
    command: setup/nvim.sh
    description: Checking nvim
    stdout: true
    stderr: true
  - 
    command: setup/fonts.sh
    description: Checking fonts
    stdout: true
    stderr: true
  - 
    command: setup/rust.sh
    description: Checking rust environment
    stdout: true
    stderr: true
  - 
    command: setup/python.sh
    description: Checking python environment
    stdout: true
    stderr: true
  - 
    command: setup/ruby.sh
    description: Checking ruby environment
    stdout: true
    stderr: true
  - 
    command: setup/nodejs.sh
    description: Checking nodejs environment
    stdout: true
    stderr: true
