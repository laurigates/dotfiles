---
- defaults:
    link:
      relink: true

- clean: ['~']

- shell:
  - [ mkdir -p ~/.local/share/nvim/plugged, Creating nvim plugin directory ]
  - [ mkdir -p ~/.zsh_history_dir, Creating zsh history directory ]
  - [ mkdir -p ~/.i3, Creating i3 configuration directory ]
  - [ mkdir -p ~/.cargo/bin, Creating cargo configuration directory ]
  - [ git submodule update --init --remote, Installing submodules ]

- link:
    ~/.dotfiles: ''
    ~/.ctags.d: general/ctags.d
    ~/.env: terminal/env
    ~/.local/share/fonts/hack:
        create: true
        path: fonts/hack
    ~/.rbenv: ruby/rbenv
    ~/.rbenv/plugins/ruby-build:
        create: true
        path: ruby/ruby-build
    ~/.config/kitty/kitty.conf:
        create: true
        path: terminal/kitty.conf
    ~/.tmux.conf: tmux/tmux.conf
    ~/.tmux-themepack: tmux/tmux-themepack
    ~/.tmux/plugins:
        create: true
        path: tmux/tmux-plugins
    ~/vimwiki: vimwiki
    ~/.config/nvim/init.vim:
        create: true
        path: vim/init.vim
    ~/.local/share/nvim/site/autoload/plug.vim:
        create: true
        path: vim/vim-plug/plug.vim
    ~/.vimrc: vim/init.vim
    ~/.vim/autoload/plug.vim:
        create: true
        path: vim/vim-plug/plug.vim
    ~/.zshrc: zsh/zshrc
    ~/.oh-my-zsh: zsh/oh-my-zsh
    ~/.oh-my-zsh/custom/plugins/zsh-autosuggestions: zsh/zsh-autosuggestions
    ~/.oh-my-zsh/custom/plugins/zsh-syntax-highlighting: zsh/zsh-syntax-highlighting
    ~/.oh-my-zsh/custom/aliases.zsh: zsh/aliases.zsh
    ~/.oh-my-zsh/custom/tmuxinator.zsh: zsh/tmuxinator.zsh
    ~/.bashrc: bash/bashrc
    ~/.bash_profile: bash/bash_profile
    ~/.bash-git-prompt: bash/bash-git-prompt
    ~/.inputrc: terminal/inputrc
    ~/.profile: terminal/profile
    ~/.ssh/config: ssh/config
    ~/i3blocks-contrib: i3/i3blocks-contrib
    ~/.i3blocks.conf: i3/i3blocks.conf
    ~/.config/dunst/dunstrc:
        create: true
        path: i3/dunstrc
    ~/.xinitrc: X/xinitrc
    ~/.xsessionrc: X/xinitrc
    ~/.Xresources: X/Xresources
    ~/.config/compton.conf: X/compton.conf

- shell:
  - [ nvim +PlugInstall +PlugUpdate +UpdateRemotePlugins +qa --headless, Installing nvim plugins ]
  - [ fonts/download.sh, Downloading fonts ]
  - [ fc-cache -f -v, Rebuilding font cache ]
  - [ strip ~/.cargo/bin/*, Stripping cargo binaries ]
  - [ pip install --user --upgrade -r requirements.txt, Installing python requirements ]
  - [ pip3 install --user --upgrade -r requirements.txt, Installing python3 requirements ]
  - [ bundle install --path=vendor/bundle, Installing ruby bundle ]
